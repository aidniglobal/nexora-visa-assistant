{% extends 'base.html' %}

{% block content %}
<section class="about-us-share container">
  <h1>About Nexora</h1>
  <div class="about-card">
    <p>{{ about_text }}</p>
  </div>
  <div style="margin-top:12px;">
    <button id="copyBtn" class="btn btn-primary">Copy About Text</button>
    <a id="emailShare" class="btn btn-secondary" href="#">Share via Email</a>
  </div>
</section>

<script>
const aboutText = `{{ about_text | replace('\n','\\n') | replace('\r','') }}`;
const copyBtn = document.getElementById('copyBtn');
const emailShare = document.getElementById('emailShare');
copyBtn && copyBtn.addEventListener('click', async () => {
  try {
    await navigator.clipboard.writeText(aboutText);
    alert('About text copied to clipboard');
  } catch (e) {
    const ta = document.createElement('textarea');
    ta.value = aboutText;
    document.body.appendChild(ta);
    ta.select();
    document.execCommand('copy');
    document.body.removeChild(ta);
    alert('About text copied (fallback)');
  }
});
emailShare && (emailShare.href = `mailto:?subject=About Nexora&body=${encodeURIComponent(aboutText)}`);
</script>

{% endblock %}
